<div id="alertContainer">
  <div class="container">
    <div class="system">
      Current System Status:
    </div>
    <div class="container" *ngIf="status === 'Got Limit'">
      <span class="success"><strong>Success! </strong><b> {{status}}.</b></span>
    </div>


    <div class="container" *ngIf="status === 'Init'">
      <span class="info"><strong>Hey!</strong><b> Try Double Clicking On The Parent Entities Below.</b></span>
    </div>


    <div class="container" *ngIf="status === 'Getting Limit'">
      <div id="loading"></div>
    </div>

    <div class="container" *ngIf="status === 'No Limit'">
      <span class="danger"><strong>Oops!</strong><b> No Limit Found.</b></span>
    </div>
  </div>
</div>
<br>


<ul class="nav nav-tabs">
  <li class="nav-item" *ngFor="let parent of parentEntities" (dblclick)="currentActiveTab(parent)" (dblclick)="findChild(parent)">
    <a class="nav-link active" data-toggle="tab" href="#{{ currentActive }}" (dblclick)="findLimit(parent)"> {{ parent.entityName }}</a>
  </li>
</ul>


<div id="myTabContent" class="tab-content">
  <div class="tab-pane fade in active show" id="{{ currentActive }}">
    <ul id="childList">
      <li *ngFor="let child of childEntities" (click)="findLimit(child)" (click)="currentActiveTab(child)">
        <a href="#" class="list-group-item list-group-item-action" id="childItem">{{ child.entityName }}</a>
      </li>
    </ul>
  </div>
</div>


<div id="table-data" *ngIf="limitData !== undefined">
  <div class="container" *ngIf="limitData.length > 0">
    <div class="container">
      <h2>Limit </h2> currently viewing limit for entity: <b>{{currentViewingLimt}}</b>
    </div>
  </div>
  <div class="container">
    <table class="table table-striped table-hover" *ngIf="limitData.length > 0">
      <thead>
        <tr>
          <th>#</th>
          <th>Risk Taker Group Name</th>
          <th>Risk Taker Name</th>
          <th>Product</th>
          <th>Risk Type</th>
          <th>Currency</th>
          <th>Exposure Amount</th>
          <th>Total Current Limit</th>
          <th>Total Approved Limit</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let limit of limitData">
          <td>{{ limit.limitID }}</td>
          <td>{{ limit.RiskTaker_Group_Name }}</td>
          <td>{{ limit.Risk_Taker_Name }}</td>
          <td>{{ limit.Product }}</td>
          <td>{{ limit.Risk_Type }}</td>
          <td>{{ limit.Currency }}</td>
          <td>{{ limit.Exposure_Amount }}</td>
          <td>{{ limit.Total_Current_Limit }}</td>
          <td>{{ limit.Total_Approved_Limit }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
